<h2 class="titulo-seccion">üïí Asignaci√≥n de Grupo Horario</h2>

<!-- üîò Botones de acci√≥n -->
<div class="botones-accion">
    <button (click)="abrirFormularioAsignacion()">AGREGAR</button>
    <button [disabled]="seleccionados.size === 0" (click)="abrirModalEditar()">EDITAR</button>
    <button [disabled]="seleccionados.size === 0" (click)="eliminarAsignaciones()">ELIMINAR</button>
</div>

<!-- üìã Tabla de empleados -->
<table class="tabla-empleados">
    <thead>
        <tr>
            <th><input type="checkbox" (change)="toggleTodos($event)" /></th>
            <th>Nombre</th>
            <th>Cargo</th>
            <th>Grupo Horario</th>
            <th>Desde</th>
            <th>Hasta</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let emp of empleados">
            <td>
                <input type="checkbox" [checked]="seleccionados.has(emp.id)" (change)="toggleSeleccion(emp.id)" />
            </td>
            <td>{{ emp.primer_nombre }} {{ emp.apellido_paterno }}</td>
            <td>{{ emp.nombre_cargo }}</td>
            <td>
                {{ emp.grupo_nombre }}
                <span *ngIf="emp.es_personalizado">‚úèÔ∏è</span>
                <span *ngIf="!emp.es_personalizado">üîí</span>
            </td>
            <td>{{ emp.fecha_inicio }}</td>
            <td>{{ emp.fecha_fin || '‚Äî' }}</td>
        </tr>
    </tbody>
</table>

<!-- ‚úèÔ∏è Modal de edici√≥n -->
<ng-container *ngIf="modalEditarVisible">
    <div class="modal-overlay">
        <div class="modal-contenido">
            <h3>Editar Grupo Horario Personalizado</h3>

            <!-- Reutilizar tabla de d√≠as editable si ya la tienes -->
            <app-editar-horario *ngIf="grupoSeleccionado" [grupoOriginal]="grupoSeleccionado"
                [empleadosSeleccionados]="empleadosSeleccionados">
            </app-editar-horario>




            <button (click)="cerrarModalEditar()">Cerrar</button>
        </div>
    </div>
</ng-container>