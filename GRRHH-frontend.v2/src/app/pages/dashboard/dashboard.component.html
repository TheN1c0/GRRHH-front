<section class="dashboard-grid">
  <div class="card-panel accesos-bloque">
    <h4 class="accesos-titulo">Últimos accesos del usuario</h4>
    <div class="accesos-vertical">
      <div class="acceso-item" *ngFor="let acceso of accesos">
        <p><strong>Usuario conectado:</strong> {{ usuarioActual }}</p>
        <p><strong>IP:</strong> {{ acceso.ip }}</p>
        <p><strong>Último acceso:</strong> {{ acceso.fecha }}</p>
        <p><strong>Navegador:</strong> {{ acceso.user_agent | slice:0:80 }}...</p>
      </div>
    </div>
  </div>

  <div class="sticky-note">
    <div class="note-header">
      <button (click)="nuevaNota = ''; modoEdicion = false">＋</button>
      <span *ngIf="modoEdicion">Editando nota</span>
      <button (click)="eliminarNota(notaEditandoId!)" *ngIf="modoEdicion && notaEditandoId">🗑️</button>
    </div>

    <textarea [(ngModel)]="nuevaNota" placeholder="Escribe algo..." rows="6"></textarea>
    <button class="guardar-btn" (click)="guardarNota()" [disabled]="nuevaNota.trim() === ''">
      {{ modoEdicion ? 'Actualizar' : 'Guardar' }}
    </button>

    <ul class="notas-lista">
      <li *ngFor="let nota of notas" (click)="editarNota(nota)">
        {{ nota.contenido | slice:0:120 }}{{ nota.contenido.length > 120 ? '...' : '' }}
      </li>
    </ul>
  </div>

  <div class="card">Resumen 3</div>
  <div class="card chart">📈 Gráfico</div>
  <div class="card highlight">💵 Total: $3.295</div>
  <div class="card list">✔️ Tareas</div>
  <div class="card circle">🔵 78%</div>
  <div class="card bars">📊 Barras</div>
</section>